<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analisis Gejala TBC - Epicare</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="flex min-h-screen">
    <!-- Sidebar -->
    <div id="sidebar" class="w-20 h-full text-white p-4 flex flex-col justify-center fixed">
        <div class="my-8 flex justify-center">
            <img src="assets/logo.svg" alt="Epicare Logo" class="h-8">
        </div>
        
        <nav class="flex-1 mt-8">
            <div class="mt-8">
                <ul class="space-y-10">
                    <li>
                        <a href="index.html" class="flex items-center justify-center p-2 rounded bg-white w-12 h-12 mx-auto shadow-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="green" viewBox="0 0 24 24" stroke-width="1.5" stroke="green" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="artikel.html" class="flex items-center justify-center p-2 rounded bg-white w-12 h-12 mx-auto shadow-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="green" viewBox="0 0 24 24" stroke-width="1.5" stroke="green" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="analisis.html" class="flex items-center justify-center p-2 rounded bg-green-600 w-12 h-12 mx-auto shadow-xl">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </div> 
        </nav>
    </div>

    <!-- Main Content -->
    <div class="flex-1 p-8 ml-20">
        <div id="questionnaire-container" class="max-w-3xl mx-auto border rounded-lg p-8">
            <!-- Page 1 -->
            <div id="page-1">
                <h1 class="text-3xl font-bold text-yellow-100 mb-2">Analisis Gejala Tuberkulosis (TBC)</h1>
                <p class="text-white mb-6">Sistem pendeteksi awal TBC menggunakan machine learning berbasis input gejala</p>
                
                <div class="space-y-6">
                    <!-- Question 1 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">1. Apakah Anda mengalami batuk?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="batuk" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="batuk" value="3" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="batuk" value="5" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">2. Apakah Anda sering berkeringat di malam hari?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="keringat" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="keringat" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="keringat" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 3 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">3. Apakah Anda mengalami kesulitan bernapas?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="napas" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="napas" value="3" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="napas" value="5" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 4 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">4. Apakah Anda mengalami demam?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="demam" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="demam" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="demam" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 5 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">5. Apakah Anda merasakan nyeri dada?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="nyeri" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="nyeri" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="nyeri" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 6 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">6. Bagaimana warna dahak Anda?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="dahak" value="7" class="form-radio text-green-600">
                                <span class="ml-2">Berdarah</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="dahak" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak berwarna</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="dahak" value="5" class="form-radio text-green-600">
                                <span class="ml-2">Hijau atau kekuningan</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="flex justify-end mt-8">
                        <button id="next-btn" class="page-btn hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Page 2 -->
            <div id="page-2" class="hidden">
                <h1 class="text-3xl font-bold text-yellow-100 mb-2">Analisis Gejala Tuberkulosis (TBC)</h1>
                <p class="text-white mb-6">Sistem pendeteksi awal TBC menggunakan machine learning berbasis input gejala</p>
                
                <div class="space-y-6">
                    <!-- Question 7 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">7. Apakah Anda memiliki gangguan sistem imun (misalnya HIV/AIDS, diabetes, dll)?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="imun" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="imun" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="imun" value="8" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 8 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">8. Apakah Anda kehilangan minat pada hal-hal yang biasa disukai?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="minat" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="minat" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="minat" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 9 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">9. Apakah Anda sering merasa menggigil?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="menggigil" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="menggigil" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="menggigil" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 10 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">10. Apakah Anda kesulitan berkonsentrasi?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="konsentrasi" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="konsentrasi" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="konsentrasi" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="flex justify-between mt-8">
                        <button id="prev-btn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition">
                            Prev
                        </button>
                        <button id="next-btn-2" class="page-btn hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Page 3 -->
            <div id="page-3" class="hidden">
                <h1 class="text-3xl font-bold text-yellow-100 mb-2">Analisis Gejala Tuberkulosis (TBC)</h1>
                <p class="text-white mb-6">Sistem pendeteksi awal TBC menggunakan machine learning berbasis input gejala</p>
                
                <div class="space-y-6">
                    <!-- Question 11 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">11. Apakah Anda mudah tersinggung akhir-akhir ini?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="tersinggung" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="tersinggung" value="1" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="tersinggung" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 12 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">12. Apakah Anda kehilangan nafsu makan?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="nafsu" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="nafsu" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="nafsu" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 13 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">13. Apakah Anda merasa kekurangan energi?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="energi" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="energi" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="energi" value="4" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 14 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">14. Apakah Anda mengalami pembesaran kelenjar getah bening?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="kelenjar" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="kelenjar" value="3" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="kelenjar" value="6" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="flex justify-between mt-8">
                        <button id="prev-btn-2" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition">
                            Prev
                        </button>
                        <button id="next-btn-3" class="page-btn hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Page 4 -->
            <div id="page-4" class="hidden">
                <h1 class="text-3xl font-bold text-yellow-100 mb-2">Analisis Gejala Tuberkulosis (TBC)</h1>
                <p class="text-white mb-6">Sistem pendeteksi awal TBC menggunakan machine learning berbasis input gejala</p>
                
                <div class="space-y-6">
                    <!-- Question 15 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">15. Apakah tekanan darah sistolik Anda tinggi?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="darah" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="darah" value="1" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="darah" value="2" class="form-radio text-green-600">
                                <span class="ml-2">Parah</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Question 16 -->
                    <div class="question-group">
                        <p class="font-medium mb-3">16. Apakah berat badan Anda ideal?</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="berat" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Tidak/Ringan (Kurang/lebih)</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="berat" value="1" class="form-radio text-green-600">
                                <span class="ml-2">Sedang</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="berat" value="0" class="form-radio text-green-600">
                                <span class="ml-2">Ya (Ideal)</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="flex justify-between mt-8">
                        <button id="prev-btn-3" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg transition">
                            Prev
                        </button>
                        <button id="calculate-btn" class="page-btn hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                            Prediksi
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Results Page -->
            <div id="results-page" class="hidden text-center">
                <h1 class="text-3xl font-bold text-yellow-100 mb-2">Hasil Analisis Gejala TBC</h1>
                <p class="text-white mb-6">Sistem pendeteksi awal TBC menggunakan machine learning berbasis input gejala</p>
                
                <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6">
                    <p class="text-lg mb-2 text-gray-700">Hasil Anda:</p>
                    <div class="text-5xl font-bold text-green-600 mb-4" id="result-percentage">0%</div>
                    <p class="text-gray-700" id="result-message"></p>
                </div>
                
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-sm text-yellow-800">
                    <p>Hasil prediksi bukan diagnosis medis resmi. Silakan konsultasikan ke layanan kesehatan profesional untuk validasi lebih lanjut.</p>
                </div>
                
                <button id="restart-btn" class="page-btn hover:bg-green-700 text-white px-6 py-2 rounded-lg transition">
                    Kembali ke Awal
                </button>
            </div>
        </div>
    </div>

    <script>
        // Navigation between pages
        document.getElementById('next-btn').addEventListener('click', function() {
            document.getElementById('page-1').classList.add('hidden');
            document.getElementById('page-2').classList.remove('hidden');
        });
        
        document.getElementById('prev-btn').addEventListener('click', function() {
            document.getElementById('page-2').classList.add('hidden');
            document.getElementById('page-1').classList.remove('hidden');
        });
        
        document.getElementById('next-btn-2').addEventListener('click', function() {
            document.getElementById('page-2').classList.add('hidden');
            document.getElementById('page-3').classList.remove('hidden');
        });
        
        document.getElementById('prev-btn-2').addEventListener('click', function() {
            document.getElementById('page-3').classList.add('hidden');
            document.getElementById('page-2').classList.remove('hidden');
        });
        
        document.getElementById('next-btn-3').addEventListener('click', function() {
            document.getElementById('page-3').classList.add('hidden');
            document.getElementById('page-4').classList.remove('hidden');
        });
        
        document.getElementById('prev-btn-3').addEventListener('click', function() {
            document.getElementById('page-4').classList.add('hidden');
            document.getElementById('page-3').classList.remove('hidden');
        });
        
        // Calculate results
        document.getElementById('calculate-btn').addEventListener('click', function() {
            // Get all selected values
            const answers = {
                batuk: parseInt(document.querySelector('input[name="batuk"]:checked')?.value || 0),
                keringat: parseInt(document.querySelector('input[name="keringat"]:checked')?.value || 0),
                napas: parseInt(document.querySelector('input[name="napas"]:checked')?.value || 0),
                demam: parseInt(document.querySelector('input[name="demam"]:checked')?.value || 0),
                nyeri: parseInt(document.querySelector('input[name="nyeri"]:checked')?.value || 0),
                dahak: parseInt(document.querySelector('input[name="dahak"]:checked')?.value || 0),
                imun: parseInt(document.querySelector('input[name="imun"]:checked')?.value || 0),
                minat: parseInt(document.querySelector('input[name="minat"]:checked')?.value || 0),
                menggigil: parseInt(document.querySelector('input[name="menggigil"]:checked')?.value || 0),
                konsentrasi: parseInt(document.querySelector('input[name="konsentrasi"]:checked')?.value || 0),
                tersinggung: parseInt(document.querySelector('input[name="tersinggung"]:checked')?.value || 0),
                nafsu: parseInt(document.querySelector('input[name="nafsu"]:checked')?.value || 0),
                energi: parseInt(document.querySelector('input[name="energi"]:checked')?.value || 0),
                kelenjar: parseInt(document.querySelector('input[name="kelenjar"]:checked')?.value || 0),
                darah: parseInt(document.querySelector('input[name="darah"]:checked')?.value || 0),
                berat: parseInt(document.querySelector('input[name="berat"]:checked')?.value || 0)
            };
            
            // Calculate total score (max possible is 60)
            const totalScore = Object.values(answers).reduce((sum, value) => sum + value, 0);
            
            // Calculate percentage (capped at 95% to indicate it's not a definitive diagnosis)
            const percentage = Math.min(95, Math.round((totalScore / 60) * 100));
            
            // Display results
            document.getElementById('result-percentage').textContent = `${percentage}%`;
            
            // Set appropriate message
            let message = '';
            if (percentage < 30) {
                message = 'Risiko TBC rendah. Tetap jaga kesehatan Anda.';
            } else if (percentage < 60) {
                message = 'Risiko TBC sedang. Disarankan untuk memeriksakan diri ke dokter.';
            } else {
                message = 'Risiko TBC tinggi. Segera konsultasikan dengan dokter spesialis.';
            }
            document.getElementById('result-message').textContent = message;
            
            // Show results page
            document.getElementById('page-4').classList.add('hidden');
            document.getElementById('results-page').classList.remove('hidden');
        });
        
        // Restart questionnaire
        document.getElementById('restart-btn').addEventListener('click', function() {
            // Reset all radio buttons
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });
            
            // Show first page
            document.getElementById('results-page').classList.add('hidden');
            document.getElementById('page-1').classList.remove('hidden');
        });
    </script>
</body>
</html>